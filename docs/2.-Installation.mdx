# Overview

We want the installation to be as flexible as possible. We offer three ways to install the app. Each of the options has pros and cons.

1. Using a pre-compiled binary. The quickest and the most straigtforward installation route.
2. Using the Rust package manager, cargo. It is similar to pip for python, gem for ruby, npm for JavaScript, etc. Cargo is a part of the Rust programming language toolchain. The toolchain is small and easy to install ([see below](#installing-through-cargo)). Cargo will also help to manage the app and allow for a quick update whenever the new version is released. In addition, the resulting executable will be fine-tuned for your system.
3. Compiling it from the source in the Github repository. It gives you the most up to date version, but the resulting binary may not be fully tested.
4. Installing from the development branch. We keep new features in the development branch until we finish testing them. This installation method will allow you to test them.

## Quick Links

- [Overview](#overview)
  - [Quick Links](#quick-links)
  - [Using a pre-compiled binary](#using-a-pre-compiled-binary)
    - [Linux/WSL/MacOS](#linuxwslmacos)
    - [Windows](#windows)
  - [Installing using the Cargo Package Manager](#installing-using-the-cargo-package-manager)
  - [Installing from a GitHub Repository](#installing-from-a-github-repository)
  - [Try development features](#try-development-features)

## Using a pre-compiled binary

The pre-compiled binary is available in [the release page](https://github.com/hhandika/segul/releases/). The typical workflow is as follow:

1. Download the zip file in [the release page](https://github.com/hhandika/segul/releases/) to your computer, using a browser or using a command line app.
2. Extract the zip file.
3. Make the binary executable (Linux and MacOS only).
4. Put it in a folder registered in your environment variable. It can be run from the folder where you extract the app too, but this option is less convenient when dealing with datasets in different folders or storage partitions.

See specific details below:

### Linux/WSL/MacOS

First, copy the link to the zip file in [the release page](https://github.com/hhandika/segul/releases/). We provide two versions of the app for Linux. The zip file labeled with ManyLinux is compiled using Red Hat Enterprise Linux Server 7.9 (Kernel Version 3.10). If you are running the app in HPC, you should use this version. The other version (labeled Linux only) is compiled using [Ubuntu 20.04 LTS (Kernel version 5.8)](https://github.com/actions/virtual-environments/blob/main/images/linux/Ubuntu2004-README.md). You should use this if you are using more up to date native Linux distributions. This version also works on WSL. Simply put, if you encounter [GLIBC](https://www.gnu.org/software/libc/) error, try using the HPC version. If the issue still persists, try to [install the app using cargo](#installing-through-cargo).

For MacOS, the executables are available for Intel Macs (x86_64) and Apple ARM Macs, such as Apple M1 series.

Here, we use the version 0.3.1 as an example. You should replace the link with the most up to date version available in the release page.

- Download the binary.

```Bash

wget https://github.com/hhandika/segul/releases/download/v0.3.1/segul-MacOS-x86_64.zip
```

- Unzip the file.

```Bash
unzip segul-MacOS-x86_64.zip
```

- Make it executable

```Bash
chmod +x segul
```

If you would like the binary executable for all users:

```Bash
chmod a+x segul
```

The next step is putting the binary in a folder registered in your PATH variable. It is always best to avoid registering too many paths in your environment variable. It will slow down your terminal startup. If you already used a single executable cli app, the chance is that you may already have a folder registered in your path variable. Copy SEGUL executable to the folder. Then, try call SEGUL from anywhere in your system:

```Bash
segul --version
```

It should show the SEGUL version number.

If you would like to setup a folder in your environment variable, take a look at simple-qc [installation instruction](https://github.com/hhandika/simple-qc).

### Windows

The installation procedure is similar to the MacOS or Linux. After downloading the zip file for Windows and extracting it, you will setup your environment variable that point to the path where you will put the executable. In Windows, this is usually done using GUI. Follow this amazing guideline from the stakoverflow [to setup the environment variable](https://stackoverflow.com/questions/44272416/how-to-add-a-folder-to-path-environment-variable-in-windows-10-with-screensho). After setup, copy the segul.exe file to the folder.

## Installing using the Cargo Package Manager

This is the recommended option. Cargo will compile the app and fine-tuned it for your specific hardware. It also allows to easily updating the app.

First, download and install [the Rust compiler toolchain](https://www.rust-lang.org/learn/get-started). It requires Rust version 1.5 or higher. Then, check if the toolchain installation successful:

```Bash
cargo --version
```

It should show the cargo version number. Then, install the app:

```Bash
cargo install segul
```

If you encounter a compiling issue (usually happens on Linux or Windows), you may need to install the C-development toolkit. For Debian-based Linux distribution, such as Debian, Ubuntu, PopOS, etc., the easiest way is to install build-essential:

```Bash
sudo apt install build-essential
```

For OpenSUSE:

```Bash
zypper install -t pattern devel_basis
```

For Fedora:

```Bash
sudo dnf groupinstall "Development Tools" "Development Libraries"
```

For Windows, you only need to install the GNU toolchain for rust. The installation should be straighforward using rustup. Rustup comes as a part of the rust-compiler toolchain. It should be available in your system at the same time as you install cargo.

```Bash
rustup toolchain install stable-x86_64-pc-windows-gnu
```

Then set the GNU toolchain as the default compiler

```Bash
rustup default stable-x86_64-pc-windows-gnu
```

Try to install SEGUL again:

```Bash
cargo install segul
```

## Installing from a GitHub Repository

You will need [the Rust compiler toolchain](https://www.rust-lang.org/learn/get-started). The setup procedure is similar to installing the app using cargo. To install the development version for any supported platform:

```Bash
cargo install --git https://github.com/hhandika/segul.git
```

You should have SEGUL ready to use.

It is equivalent to:

```Bash
git clone https://github.com/hhandika/segul

cd segul/

cargo build --release
```

The different is that, for the latter, the executable will be in the `segul` repository: `/target/release/segul`. Copy the `segul` binary and then add it to your environment path folder.

Then, try to call SEGUL:

```Bash
segul --version
```

## Try development features

We welcome our users to try new features as we develop them. These features usually only partially or have not been tested. We do not reccomend them to be used for your research project.

The features are in the development branch and listed as upcoming in the Readme file. The installation process is similar to installing from [Github Repository](#installing-from-a-github-repository) and add `--branch dev` in the command line arguments as below:

```Bash
cargo install --git https://github.com/hhandika/segul.git --branch dev
```
